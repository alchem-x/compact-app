# Compact Java Dependency Manager

ä¸€ä¸ªåŸºäº JEP 512 ç´§å‡‘æºæ–‡ä»¶ç‰¹æ€§çš„ Java ä¾èµ–ç®¡ç†å·¥å…·ï¼Œæ”¯æŒä» Maven ä»“åº“ä¸‹è½½ JAR ä¾èµ–ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹æ€§

- **JEP 512 ç´§å‡‘æºæ–‡ä»¶** - ä½¿ç”¨ç°ä»£ Java ç´§å‡‘æ–‡ä»¶æ ¼å¼ï¼Œæ— éœ€ç±»å£°æ˜
- **Maven ä¾èµ–ä¸‹è½½** - è‡ªåŠ¨ä» Maven ä¸­å¤®ä»“åº“æˆ–ç§æœ‰ä»“åº“ä¸‹è½½ JAR æ–‡ä»¶
- **ç¯å¢ƒå˜é‡é…ç½®** - æ”¯æŒè‡ªå®šä¹‰ Maven ä»“åº“åœ°å€
- **æ™ºèƒ½ä¾èµ–ç®¡ç†** - è·³è¿‡å·²ä¸‹è½½çš„æ–‡ä»¶ï¼Œæ”¯æŒä¾èµ–åˆ—è¡¨æ³¨é‡Š
- **ç°ä»£ Java ç‰¹æ€§** - ä½¿ç”¨ HttpClientã€var ç±»å‹æ¨æ–­ç­‰ç°ä»£ Java ç‰¹æ€§

## ğŸ“ é¡¹ç›®ç»“æ„

```
compact-app/
â”œâ”€â”€ LibUp.java          # ä¾èµ–ä¸‹è½½å·¥å…·ï¼ˆç´§å‡‘ Java æ–‡ä»¶ï¼‰
â”œâ”€â”€ Hello.java          # ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼ˆç´§å‡‘ Java æ–‡ä»¶ï¼‰
â”œâ”€â”€ lib.txt             # ä¾èµ–åˆ—è¡¨æ–‡ä»¶
â”œâ”€â”€ run-hello.sh        # è¿è¡Œè„šæœ¬
â”œâ”€â”€ lib/                # ä¸‹è½½çš„ JAR æ–‡ä»¶ç›®å½•
â”œâ”€â”€ JEP-512.md          # JEP 512 è§„èŒƒæ–‡æ¡£
â””â”€â”€ README.md           # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®ä¾èµ–åˆ—è¡¨

ç¼–è¾‘ `lib.txt` æ–‡ä»¶ï¼Œæ·»åŠ ä½ éœ€è¦çš„ Maven ä¾èµ–ï¼š

```
# ç¤ºä¾‹ä¾èµ–
org.apache.commons:commons-lang3:3.12.0
com.google.guava:guava:31.1-jre
```

### 2. ä¸‹è½½ä¾èµ–

```bash
java LibUp.java
```

### 3. è¿è¡Œç¤ºä¾‹ç¨‹åº

```bash
./run-hello.sh
```

## ğŸ› ï¸ è¯¦ç»†ä½¿ç”¨

### LibUp.java - ä¾èµ–ä¸‹è½½å·¥å…·

åŸºäº JEP 512 ç´§å‡‘æºæ–‡ä»¶ç‰¹æ€§ï¼Œæ— éœ€ç±»å£°æ˜å³å¯è¿è¡Œï¼š

```bash
# ä½¿ç”¨é»˜è®¤ Maven ä¸­å¤®ä»“åº“
java LibUp.java

# ä½¿ç”¨ç§æœ‰ Maven ä»“åº“
MAVEN_REPO=https://nexus.company.com/repository/maven-public java LibUp.java
```

#### åŠŸèƒ½ç‰¹æ€§ï¼š
- è‡ªåŠ¨åˆ›å»º `lib/` ç›®å½•
- è·³è¿‡å·²å­˜åœ¨çš„ JAR æ–‡ä»¶
- æ”¯æŒ `#` æ³¨é‡Šè¡Œ
- è¯¦ç»†çš„ä¸‹è½½è¿›åº¦æ˜¾ç¤º
- å®Œæ•´çš„é”™è¯¯å¤„ç†

### Hello.java - ç¤ºä¾‹åº”ç”¨ç¨‹åº

æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ä¸‹è½½çš„ä¾èµ–ï¼š

```bash
# ç›´æ¥è¿è¡Œï¼ˆéœ€è¦ lib/ ç›®å½•ä¸­æœ‰ä¾èµ– JARï¼‰
java -cp "lib/*" Hello.java

# æˆ–ä½¿ç”¨æä¾›çš„è„šæœ¬
./run-hello.sh
```

#### æ¼”ç¤ºåŠŸèƒ½ï¼š
- **Commons Lang3** - å­—ç¬¦ä¸²æ“ä½œï¼ˆåè½¬ã€é¦–å­—æ¯å¤§å†™ã€æˆªæ–­ï¼‰
- **Guava** - é›†åˆæ“ä½œï¼ˆè½¬æ¢ã€è¿æ¥ã€æ˜ å°„ï¼‰
- **ç°ä»£ Java ç‰¹æ€§** - var ç±»å‹æ¨æ–­ã€æµå¼å¤„ç†

### è¿è¡Œè„šæœ¬

`run-hello.sh` æä¾›äº†ä¾¿æ·çš„ä¾èµ–ç®¡ç†å’Œè¿è¡ŒåŠŸèƒ½ï¼š

```bash
# è¿è¡Œ Hello.javaï¼ˆè‡ªåŠ¨æ£€æŸ¥ä¾èµ–ï¼‰
./run-hello.sh

# æ¸…ç†ä¾èµ–å¹¶é‡æ–°ä¸‹è½½
./run-hello.sh --clean

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./run-hello.sh --help

# ä½¿ç”¨ç§æœ‰ä»“åº“
MAVEN_REPO=https://nexus.company.com ./run-hello.sh
```

## ğŸ“‹ ä¾èµ–æ ¼å¼

`lib.txt` æ–‡ä»¶ä½¿ç”¨æ ‡å‡†çš„ Maven ä¾èµ–æ ¼å¼ï¼š

```
groupId:artifactId:version
```

ç¤ºä¾‹ï¼š
```
# Apache Commons å·¥å…·åº“
org.apache.commons:commons-lang3:3.12.0

# Google Guava é›†åˆå·¥å…·
com.google.guava:guava:31.1-jre

# æ³¨é‡Šè¡Œä»¥ # å¼€å¤´
# org.slf4j:slf4j-api:1.7.36
```

## ğŸ”§ ç¯å¢ƒå˜é‡

- `MAVEN_REPO` - è‡ªå®šä¹‰ Maven ä»“åº“åœ°å€ï¼ˆé»˜è®¤ä½¿ç”¨ Maven Centralï¼‰

ç¤ºä¾‹ï¼š
```bash
# ä½¿ç”¨é˜¿é‡Œäº‘ Maven é•œåƒ
export MAVEN_REPO=https://maven.aliyun.com/repository/central
java LibUp.java

# ä½¿ç”¨å…¬å¸ç§æœ‰ä»“åº“
MAVEN_REPO=https://nexus.company.com/repository/maven-public java LibUp.java
```

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒç‰¹æ€§
- **JEP 512 ç´§å‡‘æºæ–‡ä»¶** - æ— éœ€ç±»å£°æ˜çš„ Java ç¨‹åº
- **JEP 511 æ¨¡å—å¯¼å…¥** - `import module` è¯­æ³•
- **ç°ä»£ Java ç‰¹æ€§** - varã€HttpClientã€Optional ç­‰

### ä½¿ç”¨çš„åº“
- **Commons Lang3** - Apache é€šç”¨å·¥å…·åº“
- **Guava** - Google æ ¸å¿ƒ Java åº“
- **Java HttpClient** - ç°ä»£ HTTP å®¢æˆ·ç«¯

### å¼€å‘å·¥å…·
- **Java 25+** - æ”¯æŒç´§å‡‘æºæ–‡ä»¶çš„æœ€æ–° Java ç‰ˆæœ¬
- **Bash è„šæœ¬** - è·¨å¹³å°è¿è¡Œæ”¯æŒ

## ğŸ¯ é¡¹ç›®äº®ç‚¹

1. **ç®€æ´æ€§** - 63 è¡Œä»£ç å®ŒæˆåŠŸèƒ½å®Œæ•´çš„ä¾èµ–ä¸‹è½½å™¨
2. **ç°ä»£æ€§** - å……åˆ†åˆ©ç”¨ Java æœ€æ–°ç‰¹æ€§
3. **å¯ç»´æŠ¤æ€§** - ä»£ç ç»“æ„æ¸…æ™°ï¼Œå¼‚å¸¸å¤„ç†å®Œå–„
4. **å¯æ‰©å±•æ€§** - æ”¯æŒè‡ªå®šä¹‰ä»“åº“ï¼Œæ˜“äºæ‰©å±•
5. **æ•™è‚²æ€§** - å±•ç¤º JEP 512 å’Œç°ä»£ Java ç¼–ç¨‹èŒƒå¼

## ğŸš€ è¿è¡Œè¦æ±‚

- **Java 25 æˆ–æ›´é«˜ç‰ˆæœ¬** - æ”¯æŒç´§å‡‘æºæ–‡ä»¶ç‰¹æ€§
- **ç½‘ç»œè¿æ¥** - ç”¨äºä¸‹è½½ Maven ä¾èµ–
- **Bash ç¯å¢ƒ** - ç”¨äºè¿è¡Œè„šæœ¬ï¼ˆå¯é€‰ï¼‰

## ğŸ“š ç›¸å…³èµ„æº

- [JEP 512: Compact Source Files and Instance Main Methods](https://openjdk.org/jeps/512)
- [JEP 511: Module Import Declarations](https://openjdk.org/jeps/511)
- [Maven Central Repository](https://search.maven.org/)
- [Apache Commons Lang](https://commons.apache.org/proper/commons-lang/)
- [Google Guava](https://github.com/google/guava)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

MIT è®¸å¯è¯æ˜¯ä¸€ç§å®½æ¾çš„å¼€æºè®¸å¯è¯ï¼Œå…è®¸ï¼š
- âœ… å•†ä¸šä½¿ç”¨
- âœ… ä¿®æ”¹å’Œåˆ†å‘
- âœ… ç§äººä½¿ç”¨
- âœ… ä¸“åˆ©ä½¿ç”¨

åªéœ€è¦ä¿ç•™ç‰ˆæƒå£°æ˜å’Œè®¸å¯è¯å£°æ˜å³å¯ã€‚